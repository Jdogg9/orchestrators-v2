# ORCHESTRATORS_V2 (public) - safe defaults
# Copy to .env and set values locally. Never commit .env.

# Server
ORCH_ENV=development
ORCH_PORT=8088
ORCH_HOST=127.0.0.1
ORCH_ENABLE_API=1

# Provider (local-first)
ORCH_LLM_ENABLED=0
ORCH_LLM_PROVIDER=ollama
ORCH_OLLAMA_URL=http://127.0.0.1:11434
ORCH_MODEL_CHAT=qwen2.5:3b
ORCH_MODEL_TOOL=qwen2.5:3b
ORCH_MODEL_EMBED=nomic-embed-text:latest
ORCH_LLM_TIMEOUT_SEC=30
ORCH_LLM_HEALTH_TIMEOUT_SEC=5
ORCH_MODEL_REASONER=qwen2.5:3b

# Memory (OFF by default in public)
ORCH_MEMORY_ENABLED=0
ORCH_MEMORY_CAPTURE_ENABLED=0
ORCH_MEMORY_WRITE_POLICY=off
ORCH_MEMORY_CAPTURE_TTL_MINUTES=180
ORCH_MEMORY_DB_PATH=instance/orchestrator_core.db
ORCH_MEMORY_SCRUB_REDACT_PII=1
ORCH_SQLITE_WAL_ENABLED=1
ORCH_DATABASE_URL=
ORCH_DB_POOL_RECYCLE=300

# Recall (OFF by default in public)
ORCH_RECALL_ENABLED=0
ORCH_RECALL_CAPTURE_INTERVAL_SEC=5
ORCH_RECALL_TTL_DAYS=30
ORCH_RECALL_MAX_DISK_MB=500

# Tools (OFF by default unless enabled)
ORCH_TOOL_WEB_SEARCH_ENABLED=0
ORCH_TOOL_CODE_EXEC=0
ORCH_TOOL_IMAGE_GEN=0

# Auth (on by default; override in dev only)
ORCH_REQUIRE_BEARER=1
ORCH_BEARER_TOKEN=changeme_for_production

# Safety + observability
ORCH_MAX_REQUEST_BYTES=1048576
ORCH_RATE_LIMIT_ENABLED=1
ORCH_RATE_LIMIT=60 per minute
# Use Redis for durable rate limiting in production.
ORCH_RATE_LIMIT_STORAGE_URL=
ORCH_LOG_JSON=1
ORCH_LOG_LEVEL=INFO
ORCH_METRICS_ENABLED=1

# Orchestrator mode
ORCH_ORCHESTRATOR_MODE=basic
ORCH_ROUTER_POLICY_PATH=config/router_policy.yaml

# Semantic router (optional fallback)
ORCH_SEMANTIC_ROUTER_ENABLED=0
ORCH_SEMANTIC_ROUTER_MIN_SIMILARITY=0.80
ORCH_SEMANTIC_ROUTER_EMBED_MODEL=nomic-embed-text:latest
ORCH_SEMANTIC_ROUTER_OLLAMA_URL=http://127.0.0.1:11434
ORCH_SEMANTIC_ROUTER_TIMEOUT_SEC=10

# Intent router (multi-tier front door)
ORCH_INTENT_ROUTER_ENABLED=0
ORCH_INTENT_ROUTER_SHADOW=0
ORCH_INTENT_DECISION_EXPOSE=0
ORCH_INTENT_MIN_CONFIDENCE=0.85
ORCH_INTENT_MIN_GAP=0.05
ORCH_INTENT_CACHE_ENABLED=1
ORCH_INTENT_CACHE_DB_PATH=instance/intent_cache.db
ORCH_INTENT_CACHE_TTL_SEC=600
ORCH_INTENT_HITL_ENABLED=1
ORCH_INTENT_HITL_DB_PATH=instance/hitl_queue.db

# Sandbox (unsafe tools)
ORCH_TOOL_SANDBOX_ENABLED=1
ORCH_TOOL_SANDBOX_REQUIRED=1
ORCH_TOOL_SANDBOX_FALLBACK=0
ORCH_TOOL_POLICY_ENFORCE=0
ORCH_TOOL_POLICY_PATH=config/tool_policy.yaml
ORCH_SANDBOX_IMAGE=python:3.12-slim
ORCH_SANDBOX_TIMEOUT_SEC=10
ORCH_SANDBOX_MEMORY_MB=256
ORCH_SANDBOX_CPU=0.5
ORCH_SANDBOX_TOOL_DIR=sandbox_tools

# OpenTelemetry
ORCH_OTEL_ENABLED=0
ORCH_OTEL_EXPORTER_OTLP_ENDPOINT=http://127.0.0.1:4318/v1/traces
ORCH_SERVICE_NAME=orchestrators-v2
